<ion-header>
  <ion-toolbar class="my-header">
    <ion-title>Projects</ion-title>
    <ion-buttons slot="end">
      <ion-button color="light" size="large" (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content has-footer>
  <ion-progress-bar *ngIf="projectList.length === 0" type="indeterminate"></ion-progress-bar>
<ng-container *ngFor="let project of projectList; let i = index" >
  
  <ion-card *ngIf="project.isActive && project.status == selectedTab">
    <ion-card-header>
      <ion-row>
      <ion-col size="{{project.timeTaken >= 86400 ? '8' : '9'}}"><ion-card-title>{{project.ActivityCode}}</ion-card-title></ion-col>
      <ion-col size="{{project.timeTaken >= 86400 ? '4' : '3'}}" >  <div class="dis-flex {{project.timeTaken >= 86400 ? 'f-right' : ''}}"><ion-badge color="success">{{ formatTime(project.timeTaken)}}</ion-badge></div></ion-col>
      </ion-row>

      
     
    </ion-card-header>

    <ion-card-content>
      <ion-row>
        <ion-col class="sub-text" size="9">{{project.ActivityName}}</ion-col>
        <ion-col size="3">
          <!-- <div class="btn-ctr" (click)="presentModal(i)"><img [src]="project.timerRunning ? 'assets/images/001-stop-player-button.png': 'assets/images/001-power-button.png'" /> -->
          <div class="btn-ctr" (click)="startProject(i)"><img [src]="project.status == 2 ? 'assets/images/002-success.png' : project.timerRunning ? 'assets/images/001-stop-player-button.png': 'assets/images/001-power-button.png'" />
            <ion-label class="text-cen">{{project.status == 2 ? 'Completed' : project.timerRunning ? 'Stop': 'Start'}}</ion-label>
          </div>
        </ion-col>
      </ion-row>

      <ion-card-subtitle>{{project.distance | number : '1.2-2'}} Kms</ion-card-subtitle>
    </ion-card-content>

  </ion-card>


</ng-container>





</ion-content>

<ion-footer>
  
  <ion-toolbar>
    <ion-tabs>
      <ion-tab-bar slot="bottom" >
        <ion-tab-button (click)="tabSelected(1)" selected="{{selectedTab == 1 ? 'true' : 'false'}}">
          <ion-icon name="list-outline"></ion-icon>
          <ion-label>On Going</ion-label>
        </ion-tab-button>
    
        <ion-tab-button (click)="tabSelected(2)" selected="{{selectedTab == 2 ? 'true' : 'false'}}">
          <ion-icon name="checkbox-outline"></ion-icon>
          <ion-label>Completed</ion-label>
        </ion-tab-button>
    
       
      </ion-tab-bar>
    </ion-tabs>
  </ion-toolbar>
    </ion-footer>